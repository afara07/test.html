<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="mystyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
    

    <div style="display: grid;">
    <h1>USER INFORMATIONS</h1>
    <table border="4">
        <tr>
        <th>User_name</th>
        <th>Email-id</th>
        <th>DOB</th>
        <th>DOJ</th>
        <th>Department</th>
        <th>Mobile</th>
        <th>Gender</th>
    </tr>
    {% for i in data %}
    <tr>
         <td>{{i.name}}</td>
         <td>{{i.email}}</td>
         <td>{{i.DOB}}</td>
         <td>{{i.DOJ}}</td>
         <td>{{i.department}}</td>
         <td>{{i.mobile_number}}</td>
         <td>{{i.gender}}</td>
        <td><button onclick="delete_data('{{i.id}}')">Delete</button></td> 
        <td><button onclick="update_data('{{i.id}}')">Update</button></td>
    </tr>

    {% endfor %}
    </table>


</div>

<script>
    function delete_data(id){
        alert(id)
        $.ajax({
            url:'info_delete',
            type:'post',
            data:{
                id

            },
            success:function(response){
                alert(response.message)
            }
            
            
        })
    }
     
    function update_data(id){
        $.ajax({
            url:'update_info',
            type:'post',
            data:{
                id
            },
            success:function(response){
                alert(response.meassage)
            }

        })
    }

</script>
</div>  
</body>
</html>